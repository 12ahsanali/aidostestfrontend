// src/components/Gauge.js
export default function Gauge({
  total = 0,
  size = "default",
  showBadge = true,
  badgeText = "RISK",
  showStatusText = true,
  alwaysShowStatus = true,
}) {
  const getSizeClasses = () => {
    switch (size) {
       case "exsmall":
        return "w-[160px] h-[160px]";
      case "small":
        return "w-[180px] h-[160px]";
      case "large":
        return "w-[229px] h-[203px]";
      default:
        return "w-[229px] h-[203px]";
    }
  };

  const getStatusColor = () => {
    if (total > 70) return "#FF383C";
    if (total >= 40) return "#F5A623";
    if (total >= 0) return "#2FA84F";
    return "#9AA4B2";
  };

  const getStatusText = () => {
    if (total > 70) return "NO GO";
    if (total >= 40) return "DELAY";
    if (total > 0) return "GO";
    if (total === -1) return "";
    return "Status";
  };

  const statusColor = getStatusColor();

  return (
    <div className="relative flex flex-col items-center justify-center">
      <svg
        width="229"
        height="203"
        viewBox="0 0 229 203"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className={getSizeClasses()}
      >
        <mask id="path-1-inside-1_194_759" fill="white">
          <path d="M159.495 36.0959C161.09 33.4363 164.518 32.5061 167.138 34.1666C177.782 40.9151 186.933 49.6558 194.035 59.8875C202.179 71.621 207.411 85.0006 209.324 98.9916C211.237 112.983 209.782 127.21 205.07 140.572C200.969 152.201 194.498 162.904 186.057 172.062C183.942 174.355 180.372 174.343 178.125 172.179C175.753 169.897 175.77 166.113 177.967 163.662C184.992 155.826 190.395 146.746 193.864 136.911C197.992 125.202 199.268 112.737 197.591 100.479C195.915 88.22 191.331 76.4971 184.195 66.2166C178.173 57.5409 170.47 50.0887 161.527 44.2581C158.805 42.4836 157.824 38.8825 159.495 36.0959Z" />
        </mask>
        <path
          d="M159.495 36.0959C161.09 33.4363 164.518 32.5061 167.138 34.1666C177.782 40.9151 186.933 49.6558 194.035 59.8875C202.179 71.621 207.411 85.0006 209.324 98.9916C211.237 112.983 209.782 127.21 205.07 140.572C200.969 152.201 194.498 162.904 186.057 172.062C183.942 174.355 180.372 174.343 178.125 172.179C175.753 169.897 175.77 166.113 177.967 163.662C184.992 155.826 190.395 146.746 193.864 136.911C197.992 125.202 199.268 112.737 197.591 100.479C195.915 88.22 191.331 76.4971 184.195 66.2166C178.173 57.5409 170.47 50.0887 161.527 44.2581C158.805 42.4836 157.824 38.8825 159.495 36.0959Z"
          fill={total >= 70 ? "#FF383C" : total ? "#FF383C59" : "#0B1220"}
          stroke={total ? "#FF383C" : "#111111"}
          strokeWidth="2"
          mask="url(#path-1-inside-1_194_759)"
        />
        <mask id="path-2-inside-2_194_759" fill="white">
          <path d="M51.0168 172.179C48.7697 174.343 45.1992 174.355 43.0851 172.062C34.6435 162.904 28.1726 152.201 24.072 140.572C19.3599 127.21 17.9042 112.983 19.8177 98.9916C21.7311 85.0006 26.9623 71.621 35.1066 59.8875C42.2086 49.6558 51.3598 40.9151 62.0041 34.1666C64.6233 32.5061 68.0513 33.4363 69.6465 36.0959C71.3177 38.8825 70.3368 42.4836 67.6148 44.2581C58.6716 50.0887 50.9682 57.5409 44.9463 66.2166C37.8105 76.4971 33.227 88.22 31.5505 100.479C29.874 112.737 31.1494 125.202 35.2781 136.911C38.7464 146.746 44.1501 155.826 51.1742 163.662C53.3714 166.113 53.3883 169.897 51.0168 172.179Z" />
        </mask>
        <path
          d="M51.0168 172.179C48.7697 174.343 45.1992 174.355 43.0851 172.062C34.6435 162.904 28.1726 152.201 24.072 140.572C19.3599 127.21 17.9042 112.983 19.8177 98.9916C21.7311 85.0006 26.9623 71.621 35.1066 59.8875C42.2086 49.6558 51.3598 40.9151 62.0041 34.1666C64.6233 32.5061 68.0513 33.4363 69.6465 36.0959C71.3177 38.8825 70.3368 42.4836 67.6148 44.2581C58.6716 50.0887 50.9682 57.5409 44.9463 66.2166C37.8105 76.4971 33.227 88.22 31.5505 100.479C29.874 112.737 31.1494 125.202 35.2781 136.911C38.7464 146.746 44.1501 155.826 51.1742 163.662C53.3714 166.113 53.3883 169.897 51.0168 172.179Z"
          fill={total < 40 ? "#2FA84F" : total ? "#2FA84F59" : "#0B1220"}
          stroke={total ? "#2FA84F" : "#0F192D"}
          strokeWidth="2"
          mask="url(#path-2-inside-2_194_759)"
        />
        <mask id="path-3-inside-3_194_759" fill="white">
          <path d="M69.8415 36.4211C68.1702 33.6346 69.1328 30.0018 72.0643 28.6004C85.2495 22.2974 99.7955 19 114.571 19C129.346 19 143.892 22.2974 157.077 28.6004C160.009 30.0018 160.971 33.6346 159.3 36.4211C157.705 39.0807 154.296 39.9763 151.492 38.6505C140.025 33.2277 127.396 30.3919 114.571 30.3919C101.745 30.3919 89.1168 33.2277 77.6497 38.6505C74.8461 39.9763 71.4366 39.0807 69.8415 36.4211Z" />
        </mask>
        <path
          d="M69.8415 36.4211C68.1702 33.6346 69.1328 30.0018 72.0643 28.6004C85.2495 22.2974 99.7955 19 114.571 19C129.346 19 143.892 22.2974 157.077 28.6004C160.009 30.0018 160.971 33.6346 159.3 36.4211C157.705 39.0807 154.296 39.9763 151.492 38.6505C140.025 33.2277 127.396 30.3919 114.571 30.3919C101.745 30.3919 89.1168 33.2277 77.6497 38.6505C74.8461 39.9763 71.4366 39.0807 69.8415 36.4211Z"
          fill={
            total >= 40 && total < 70
              ? "#F5A623"
              : total
                ? "#F5A62359"
                : "#0B1220"
          }
          stroke={total ? "#F5A623" : "#0F192D"}
          strokeWidth="2"
          mask="url(#path-3-inside-3_194_759)"
        />
        {(showStatusText || alwaysShowStatus) && (
          <text
            x="114.5"
            y="86"
            fill={
              total > 70
                ? "#FF383C"
                : total >= 40
                  ? "#F5A623"
                  : total >= 0
                    ? "#2FA84F"
                    : "#9AA4B2"
            }
            fontSize="24"
            fontFamily="Arial"
            fontWeight="500"
            textAnchor="middle"
          >
            {getStatusText()}
          </text>
        )}
        <text
          x="114.5"
          y="132"
          fill="white"
          fontSize="28"
          fontFamily="Arial"
          fontWeight="bold"
          textAnchor="middle"
        >
          <tspan fill={statusColor}>{total}</tspan>
          /100
        </text>

        {showBadge && (
          <>
            <rect
              x="68.5"
              y="154.5"
              width="93"
              height="26"
              rx="13"
              fill="#2a2a2a"
            />
            <rect
              x="68.5"
              y="154.5"
              width="93"
              height="26"
              rx="13"
              stroke="#1d4ed8"
            />
            <path
              d="M100.656 161.625H104.68C105.544 161.625 106.281 161.755 106.891 162.016C107.5 162.276 107.966 162.661 108.289 163.172C108.617 163.677 108.781 164.302 108.781 165.047C108.781 165.615 108.677 166.115 108.469 166.547C108.26 166.979 107.966 167.344 107.586 167.641C107.206 167.932 106.753 168.159 106.227 168.32L105.633 168.609H102.016L102 167.055H104.711C105.18 167.055 105.57 166.971 105.883 166.805C106.195 166.638 106.43 166.411 106.586 166.125C106.747 165.833 106.828 165.505 106.828 165.141C106.828 164.745 106.75 164.401 106.594 164.109C106.443 163.812 106.208 163.586 105.891 163.43C105.573 163.268 105.169 163.188 104.68 163.188H102.617V173H100.656V161.625ZM107.148 173L104.477 167.891L106.531 167.883L109.242 172.898V173H107.148ZM112.562 164.547V173H110.672V164.547H112.562ZM110.547 162.328C110.547 162.042 110.641 161.805 110.828 161.617C111.021 161.424 111.286 161.328 111.625 161.328C111.958 161.328 112.221 161.424 112.414 161.617C112.607 161.805 112.703 162.042 112.703 162.328C112.703 162.609 112.607 162.844 112.414 163.031C112.221 163.219 111.958 163.312 111.625 163.312C111.286 163.312 111.021 163.219 110.828 163.031C110.641 162.844 110.547 162.609 110.547 162.328ZM119.367 170.711C119.367 170.523 119.32 170.354 119.227 170.203C119.133 170.047 118.953 169.906 118.688 169.781C118.427 169.656 118.042 169.542 117.531 169.438C117.083 169.339 116.672 169.221 116.297 169.086C115.927 168.945 115.609 168.776 115.344 168.578C115.078 168.38 114.872 168.146 114.727 167.875C114.581 167.604 114.508 167.292 114.508 166.938C114.508 166.594 114.583 166.268 114.734 165.961C114.885 165.654 115.102 165.383 115.383 165.148C115.664 164.914 116.005 164.729 116.406 164.594C116.812 164.458 117.266 164.391 117.766 164.391C118.474 164.391 119.081 164.51 119.586 164.75C120.096 164.984 120.487 165.305 120.758 165.711C121.029 166.112 121.164 166.565 121.164 167.07H119.281C119.281 166.846 119.224 166.638 119.109 166.445C119 166.247 118.833 166.089 118.609 165.969C118.385 165.844 118.104 165.781 117.766 165.781C117.443 165.781 117.174 165.833 116.961 165.938C116.753 166.036 116.596 166.167 116.492 166.328C116.393 166.49 116.344 166.667 116.344 166.859C116.344 167 116.37 167.128 116.422 167.242C116.479 167.352 116.573 167.453 116.703 167.547C116.833 167.635 117.01 167.719 117.234 167.797C117.464 167.875 117.75 167.951 118.094 168.023C118.74 168.159 119.294 168.333 119.758 168.547C120.227 168.755 120.586 169.026 120.836 169.359C121.086 169.688 121.211 170.104 121.211 170.609C121.211 170.984 121.13 171.328 120.969 171.641C120.812 171.948 120.583 172.216 120.281 172.445C119.979 172.669 119.617 172.844 119.195 172.969C118.779 173.094 118.31 173.156 117.789 173.156C117.023 173.156 116.375 173.021 115.844 172.75C115.312 172.474 114.909 172.122 114.633 171.695C114.362 171.263 114.227 170.815 114.227 170.352H116.047C116.068 170.701 116.164 170.979 116.336 171.188C116.513 171.391 116.732 171.539 116.992 171.633C117.258 171.721 117.531 171.766 117.812 171.766C118.151 171.766 118.435 171.721 118.664 171.633C118.893 171.539 119.068 171.414 119.188 171.258C119.307 171.096 119.367 170.914 119.367 170.711ZM124.758 161V173H122.867V161H124.758ZM130.008 164.547L126.328 168.625L124.312 170.688L123.82 169.094L125.344 167.211L127.734 164.547H130.008ZM128.141 173L125.398 169.031L126.586 167.711L130.32 173H128.141Z"
              fill="#F0F0F0"
            />
          </>
        )}
      </svg>
    </div>
  );
}
